
使用 npm run dev 的时候可以正常显示出 {numSorts} 和 {totalPosts} ，使用 npm run build 生成静态页后 {numSorts} 和 {totalPosts} 都显示为0

/components/InfoTotal.tsx

在 /components/InfoTotal.tsx 里的代码
使用 这个代码获取  /api/total/ 里的数据 {"totalPosts":55,"numSorts":6}

使用 Next.js 13 在 /components/InfoTotal.tsx 里
怎么读取  /api/total/ 里的数据 {"totalPosts":55,"numSorts":6}

使用 Next.js 13 为什么 /components/InfoTotal.tsx 里获取的 API 数据，在生成静态页就不显示数据了

在生成静态页前将查询 API 的数据保存在组件的生命周期方法中，例如使用 useState 钩子来保存数据。这样，即使在生成静态页时组件重新渲染，也不会导致数据丢失。

如果你使用 fetch 函数来查询 API，你需要确保在生成静态页前将数据保存在状态变量中，以便在页面静态化后仍然可以使用这些数据。

使用 useEffect 钩子来监听组件挂载和更新，并在生成静态页前将数据保存在状态变量中。

帮我修改在生成静态页前把 {data.numSorts} {data.totalPosts} 读取并生成到静态页中

你是对的。getStaticProps 函数只能在 Next.js 的页面文件中使用，而不能在组件中使用。如果你需要在组件中预先获取数据并将其注入到组件中，可以考虑使用其他方式如下：

使用 React 的 Context API。你可以在应用程序的根组件中创建一个 Context，并在其中包装需要读取动态数据的子组件。然后，使用类似于 getStaticProps 的服务器端渲染技术，在服务端获取数据并将其注入到 Context 中。这样，所有包装在该 Context 中的子组件都可以从中读取数据，无需进行网络请求。
在父组件中获取数据，并将其作为 props 传递给子组件。这种方式适用于数据不需要频繁更新的情况。你可以在父组件的 useEffect 钩子中获取数据，并将其存储在父组件的 state 中。然后，将需要使用该数据的子组件作为父组件的子组件，并将数据作为 props 传递给它们。这种方式可以避免在每个子组件中都进行数据请求，提高性能。
如果你的数据不是非常关键，也可以在客户端使用 useEffect 钩子进行数据请求。这种方式适用于数据不重要或者可以缓存的情况。你可以在组件中使用 useState 钩子来存储数据，然后在 useEffect 钩子中进行数据请求。这样，组件将在客户端渲染时进行网络请求，而不会影响到整个应用程序的性能。

Next.js 13 生成静态页时 组件 /components/InfoTotal.tsx  data 数据全部为0