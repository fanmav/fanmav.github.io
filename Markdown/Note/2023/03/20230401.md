# 使用 Next.js 添加一个返回网页顶部的按钮

首先，安装 `react-scroll-up-button` 库：

```
npm install react-scroll-up-button
```

然后，在页面组件中引入该库并使用它的 `ScrollUpButton` 组件：

```tsx
import { ScrollUpButton } from 'react-scroll-up-button'

const MyPage = () => {
  return (
    <div>
      {/* 页面内容 */}
      <ScrollUpButton />
    </div>
  )
}

export default MyPage
```

这样就可以在页面中添加一个默认样式的返回顶部按钮了。

如果需要自定义样式，可以参考官方文档中的说明：https://github.com/gorangajic/react-scroll-up-button#styling-the-button


# 第二种方法

1. 首先，在项目中创建一个新的组件 TopButton.tsx，用于渲染返回顶部按钮。

2. 在 TopButton 组件中，定义一个函数 handleClick，用于处理按钮点击事件，将页面滚动到顶部。

```ts
import { useState } from "react";

const TopButton = () => {
  const [showButton, setShowButton] = useState(false);

  const handleClick = () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  };

  return (
    <button
      className={`top-button ${showButton ? "show" : ""}`}
      onClick={handleClick}
    >
      返回顶部
    </button>
  );
};

export default TopButton;
```

3. 在 TopButton 组件中，使用 useState 钩子来控制返回顶部按钮的显隐状态。当页面滚动到一定位置时，显示返回顶部按钮；否则隐藏返回顶部按钮。

```ts
import { useState, useEffect } from "react";

const TopButton = () => {
  const [showButton, setShowButton] = useState(false);

  const handleClick = () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  };

  useEffect(() => {
    const handleScroll = () => {
      if (window.pageYOffset > 300) {
        setShowButton(true);
      } else {
        setShowButton(false);
      }
    };

    window.addEventListener("scroll", handleScroll);

    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  return (
    <button
      className={`top-button ${showButton ? "show" : ""}`}
      onClick={handleClick}
    >
      返回顶部
    </button>
  );
};

export default TopButton;
```

4. 在页面中引入 TopButton 组件，并在需要返回顶部的位置添加该组件。

```tsx
import TopButton from "../components/TopButton";

const Home = () => {
  return (
    <div>
      <h1>欢迎来到首页</h1>
      <p>这是一个 Next.js 13 和 TypeScript 的示例项目。</p>
      <p>请往下滚动页面，查看返回顶部按钮的效果。</p>
      <div style={{ height: "2000px" }}></div>
      <TopButton />
    </div>
  );
};

export default Home;
```

5. 在 CSS 中添加样式，用于控制返回顶部按钮的显隐状态和位置。

```css
.top-button {
  position: fixed;
  bottom: 30px;
  right: 30px;
  display: none;
  width: 100px;
  height: 40px;
  background-color: #333;
  color: #fff;
  border: none;
  outline: none;
  cursor: pointer;
  transition: opacity 0.2s ease-in-out;
}

.top-button.show {
  display: block;
  opacity: 1;
}
```

6. 运行项目，查看返回顶部按钮的效果。